# 弯音类型的基本语法



## 目录

- [往一首曲子插入实时的弯音,滑音,颤音变化](#往一首曲子插入实时的弯音滑音颤音变化)



## 往一首曲子插入实时的弯音,滑音,颤音变化

你可以使用pitch_bend类型（弯音类型）插入到一个和弦类型中，可以实时改变某一个片段的音符的音高，可以很细微地变化音高。
构建pitch_bend类型时，使用mode参数可以选择三种不同的单位:

* 半音 (-2到2之间的任意整数，小数或者分数，不包括-2和2本身)
* 音分 (1个半音 = 100音分，-200到200之间的任意整数，小数或者分数，不包括-200和200本身，音分是默认单位)
* MIDI弯音值 (-8192到8192之间的任意整数，不包括-8192和8192本身)



### pitch_bend类型的构成

```python
pitch_bend(value, start_time=None, mode='cents', channel=None, track=None)
```

- value: 音符的音高变化的量
- start_time: 音符的音高变化的位置，单位为小节，如果不设置，则以pitch_bend类型插入和弦类型的具体位置为准
- mode: mode == 'cents' 选择音分作为单位，为默认值，mode如果不设置就选择音分作为单位; mode == 'semitones' 选择半音作为单位; mode == 'values' 选择MIDI弯音值作为单位
- channel: MIDI通道编号
- track: MIDI音轨编号



### pitch_bend类型插入到和弦类型中

只需要把pitch_bend类型当做一个音符类型插入到和弦类型中就行了。

```python
a = chord(['C5', 'D5', 'E5', pitch_bend(30), 'F5', 'G5', 'A5', 'B5', 'C6']) % (1/8,1/8)
play(a, 80)
# 和弦类型a从开始到E5会以正常的音高演奏，之后的音符会调高30音分进行演奏（也就是0.3个半音）
```



### 设定start_time可以选择在哪里开始变化音符的音高

```python
a = chord(['C5', 'D5', 'E5', 'F5', 'G5', 'A5', 'B5', pitch_bend(30, 0.5)]) % (1/8,1/8)
play(a, 80)
# 和弦类型a从开始到第0.5小节会以正常的音高演奏，之后的音符会调高30音分进行演奏（也就是0.3个半音）(以第0小节作为开头)
```



### 写在一个字符串里的pitch_bend类型构建的语法

```python
a = chord('C5, D5, E5, pitch;30, F5, G5, A5, B5, C6') % (1/8,1/8)
a = chord('C5, D5, E5, F5, G5, A5, B5, C6, pitch;30;1.5') % (1/8,1/8)
a = chord('C5, D5, E5, F5, G5, A5, B5, C6, pitch;1.37;1.5;semitones') % (1/8,1/8)
# 请注意，因为pitch_bend类型本身不是音符类型，只是一个通知改变音符的音高的信息，因此在写在一个字符串里的语法中
# 没有使用括号设定音符类型的长度，间隔等的语法，比如pitch_bend;30(.8;.)这样是不行的。
# 在写在一个字符串里的语法中，mode参数是第三个参数，在value和start_time之后，后面的两个参数分别是channel和track
```

